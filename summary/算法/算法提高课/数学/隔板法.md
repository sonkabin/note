# 隔板法

## 定义：n个相同的元素分为m堆，每堆至少一个，则有$C_{n - 1}^{m - 1}$种方法

## 注意点

1. **若干个相同的元素**：如果是把四本不同的书送到三个不同的地方中则不可以用隔板法
2. **每组中至少有一个元素**："空箱"、"至少n个"不可以直接用公式解决
3. **元素不能有剩余**

## 简单实例

四个相同的小球放入三个盒子，每个盒子中至少一个，几种做法？

分为三组，"切两刀"可以得到三组。四个小球能"切"的位置只有3处，因此共有$C_3^2=3$种方式。$C_{n-1}^{m-1}$的`n-1`表示n个小球，n-1处可以"切"；`m-1`表示分成m组，"切"m-1刀

## 拓展

1. a+b+c+d=10的正整数解有多少个？

   可以理解为有10相同的1，分成4组，则共有$C_9^3$种方案

2. **至少多个**。将10本相同的书分给4个班级，要求每个班级至少有两本，有多少种方法？

   等价于`x1 + x2 + x3 + x4 = 10,(xi >= 2)`，通过换元法可得`y1 + 1 + y2 + 1 + y3 + 1 + y4 + 1 = 10,(yi>=1)`，化简得`y1 + y2 + y3 + y4 = 6`，共有$C_{5}^{3}$种方案

3. **空盒**（至少放0个）。a+b+c+d=10的非负整数解有多少个？

   换元有`x1 - 1 + x2 - 1+ x3 - 1 + x4 - 1 = 10`，化简得`x1 + x2 + x3 + x4 = 14`，共有$C_{13}^{3}$种方案

4. **每组至少放的个数不同**。将10个小球分别放入编号为1，2，3的盒子中，要求每个盒子里的小球数目不得少于该盒子的编号，有多少种放法？

   即`a + b + c = 10, (a >= 1)(b >= 2)(c >= 3)`，换元有`x + y + 1 + z + 2 = 10`，化简有`x + y + z = 7`，共有$C_{6}^{2}$种方案



## 参考资料

[排列组合：超级神奇的技巧+思想,秒杀一类头疼的题型](https://zhuanlan.zhihu.com/p/113071166)