## 容斥原理

问题：n个集合中所有不重复的数有多少个？

以3个集合（用S1、S2、S3表示）来考虑，有$|S_1 \cup S_2 \cup S_3| = |S_1| + |S_2| + |S_3| - |S_1 \cap S_2| - |S_1 \cap S_3| - |S_2 \cap S_3| + |S_1 \cap S_2 \cap S_3|$

**性质**

时间复杂度是O(2^n)

$C_n^1 + C_n^2 + ... + C_n^n$，表示任意挑1个、挑2个...挑n个构成的总数，因此有 2^n-1 项



## 博弈论

### Nim游戏

[oi wiki:博弈论](https://oi-wiki.org/math/game-theory/)

n堆物品，每堆有ai个，两个玩家轮流取走任意一堆的任意个物品，但不能不取。取走最后一个物品的人获胜。

### 有向图游戏与SG函数

定义mex函数的值为不属于集合S中的最小的非负整数，如S={1,2}，则mex(S)=0；mex({0,1,3}) = 2

对于状态x和它的所有k个后继状态y1,y2,...yn，定义SG函数：
$$
SG(x) = mex(SG(y_1), SG(y_2), ..., SG(y_n))
$$
SG函数从终态出发，置为0，然后反推前一个状态

由n个有向图游戏组成的组合游戏，设他们的起点分别是s1, s2,..., sn，则有**当且仅当$SG(s_1) \oplus SG(s_2) \oplus ... \oplus SG(s_n) \ne 0$时，这个游戏先手必胜**



## 补充

1. 不知道怎么做的时候，分类讨论能解决大部分问题