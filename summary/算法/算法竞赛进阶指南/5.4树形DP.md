# 树形DP

## [acwing:没有上司的舞会](https://www.acwing.com/problem/content/287/)

题意：每个员工有唯一一个直属上司，有一个快乐指数，如果员工和直属上司一起参加舞会则员工没有快乐，快乐指数之和的最大值是多少。员工与直属上司之间的关系用子节点和父节点表示

**状态表示**：f[i, 0], f[i, 1]

- 集合：0表示f[i]不参加，1表示f[i]参加的所有方案的集合
- 属性：max

**状态计算**：

设s1, s2, ..., sk为i的子节点

- f[i]不参加，有f[i, 0] = max(f[s1, 0], f[s1, 1]) + max(f[s2, 0], f[s2, 1]) +... + max(f[sk, 0], f[sk, 1])
- f[i]参加，有f[i, 1] = f[s1, 0] + f[s2, 0] + ... + f[sk, 0]

## [acwing:选课](https://www.acwing.com/problem/content/288/)

题意：学校开设N门课，学生要选M门课，有些课程需要先学其他的一些课程，在满足先修课程的前提下确定一个方案使得到的学分最多。一门课的先修课程最多只有一门

**技巧：虚拟父节点**

本题中所有的课程组合起来是森林，为所有的根节点添加同一个虚拟父节点，就成为了一棵树，然后总课程数+1即可

**状态表示**：f[i, j]

- 集合：所有以i为节点的树中选取j门课的方案的集合
- 属性：max

**状态计算**：

背包问题的套路：第一层循环枚举物品，第二层循环枚举背包容量

这里是在树形上的分组背包问题（有依赖的背包问题）。第一层枚举物品组，第二层从大到小枚举背包容量，第三层枚举决策组里的选择



## [leetcode:监控二叉树](https://leetcode-cn.com/problems/binary-tree-cameras/)



## [打家劫舍 III](https://leetcode-cn.com/problems/house-robber-iii/)



